<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>MY WORD RELAY</title>
	</head>

	<body>
		<div><span id="order">1</span> 번째 참가자</div>
		<div>제시어 : <span id="word"></span></div>
		<div>
			<input type="text" />
			<button id="btn">입력</button>
		</div>
	</body>

	<script>
		const number = parseInt(prompt('참가 인원 : ')); // 참가 인원

		if (number) {
			const $input = document.querySelector('input');
			const $word = document.querySelector('#word');
			const $button = document.querySelector('#btn');
			const $order = document.querySelector('#order');

			let word; // 제시어
			let newWord; // 입력 단어

			const onInput = function (event) {
				newWord = event.target.value;
			};

			const onClickButton = function () {
				if (!word || (word[word.length - 1] === newWord[0] && newWord.length === 3)) {
					word = newWord;
					$word.textContent = word;

					const order = parseInt($order.textContent); // 현재 순서

					if (order + 1 > number) {
						$order.textContent = 1;
					} else {
						$order.textContent = order + 1;
					}
				} else {
					alert('올바르지 않은 단어입니다.');
				}
				$input.value = '';
				$input.focus;
			};

			$input.addEventListener('input', onInput);
			$button.addEventListener('click', onClickButton);
		}
	</script>
</html>
